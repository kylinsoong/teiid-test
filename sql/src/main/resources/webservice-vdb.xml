<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<vdb name="StateServiceVDB" version="1">

    <description>Shows how to call StateService Web Services</description>
    
    <property name="UseConnectorMetadata" value="true" />
    <!--property name="{http://teiid.org/rest}auto-generate" value="true"/-->

    <model name="StateService">
        <source name="webservice" translator-name="translator-ws" connection-jndi-name="java:/StateServiceWebSvcSource"/>
    </model>
    
    <model name="TestProcedures" type="VIRTUAL">
		<metadata type="DDL"><![CDATA[
		
		
		CREATE VIRTUAL PROCEDURE testVirtualProcedure() RETURNS TABLE (xml_out string)
        AS
        BEGIN
           DECLARE string wsResult = EXEC invoke('SOAP11', '', '<GetAllStateInfo xmlns=\"http://www.teiid.org/stateService/\"/>', 'http://localhost:8080/StateService/stateService/StateServiceImpl?WSDL', true))", 'true');
        END

		]]>
		</metadata>
	</model>

</vdb>
